!function(t){t.fn.extend({lyLife:function(n){var i,e=t(this).empty(),a=this,o=[],s=function(){for(var t='<table class="ly_life" cellspacing="0" cellpadding="0">',i=0;n>i;i++){t+="<tr>";for(var a=0;n>a;a++)o.push(0),t+='<td data-pos="'+(i*n+a)+'"></td>';t+="</tr>"}t+="</table>",e.html(t).find("td").unbind("click").click(d)},d=function(){var n=t(this).data("pos");0==o[n]?(t(this).addClass("on"),o[n]=1):(t(this).removeClass("on"),o[n]=0)},r=function(){for(var t,s=o.concat(),d=0,f=0;n>f;f++)for(var c=0;n>c;c++)t=0,d=f*n+c,n>d?(0==c?(1==s[d+1]&&t++,1==s[d+n+1]&&t++):c==n-1?(1==s[d-1]&&t++,1==s[d+n-1]&&t++):(1==s[d-1]&&t++,1==s[d+1]&&t++,1==s[d+n-1]&&t++,1==s[d+n+1]&&t++),1==s[d+n]&&t++):d>n*(n-2)-1?(0==c?(1==s[d+1]&&t++,1==s[d-n+1]&&t++):c==n-1?(1==s[d-1]&&t++,1==s[d-n-1]&&t++):(1==s[d-1]&&t++,1==s[d+1]&&t++,1==s[d-n-1]&&t++,1==s[d-n+1]&&t++),1==s[d-n]&&t++):(0==c?(1==s[d-n+1]&&t++,1==s[d+n+1]&&t++,1==s[d+1]&&t++):c==n-1?(1==s[d-n-1]&&t++,1==s[d-1]&&t++,1==s[d+n-1]&&t++):(1==s[d-n+1]&&t++,1==s[d+n+1]&&t++,1==s[d+1]&&t++,1==s[d-n-1]&&t++,1==s[d-1]&&t++,1==s[d+n-1]&&t++),1==s[d+n]&&t++,1==s[d-n]&&t++),3==t?0==s[d]&&(o[d]=1,e.find("tr").eq(f).find("td").eq(c).addClass("on")):2==t||1==s[d]&&(o[d]=0,e.find("tr").eq(f).find("td").eq(c).removeClass("on"));i=setTimeout(r.bind(a),1e3)};s();var f={start:function(){i=setTimeout(r.bind(a),1e3)},stop:function(){clearTimeout(i)}};return f}})}(jQuery);